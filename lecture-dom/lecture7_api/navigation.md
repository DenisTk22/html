**Получение текущего местоположения**
Чтобы получить текущее местоположения пользователя, надо вызвать метод
getCurrentPosition(). Это инициирует асинхронный запрос для обнаружения местоположения
пользователя и задействует аппаратные средства позиционирования, чтобы получить
последнюю актуальную информацию. Когда местоположение определено, выполняется
функция обратного вызова (callback). По желанию вы можете указать вторую функцию для
обработки ошибки. Третий, опциональный, параметр — объект с полями, где можно настроить
максимальное значение возвращаемых данных, время ожидания ответа на запрос и точность
возвращаемых данных.
navigator.geolocation.getCurrentPosition((position) => {
    const {latitude, longitude} = position.coords
    console.log('Географические координаты устройства', latitude, longitude)
})
**Важно! По умолчанию getCurrentPosition() пытается вернуть результат как можно скорее.*
**Это полезно, когда критична скорость ответа и не так важна точность. Устройства с GPS, например, могут пытаться скорректировать данные около минуты и даже дольше, поэтому в самом начале getCurrentPosition() может вернуть менее точные данные, полученные на основе AGPS мобильного провайдера или сети Wi-Fi.*

**Наблюдение за текущим местоположением**
Если мы хотим следить за изменениями местоположения устройства, это делается с помощью
функции watchPosition(), которая имеет три входных параметра, похожих на
getCurrentPosition(). Переданные ей в параметрах callback-функции вызываются много раз,
позволяя браузеру обновлять данные о текущей локации либо во время движения, либо после
получения более точной информации о местоположении после применения более точных
методов позиционирования. 

Важно! Использовать watchPosition() можно и без вызова getCurrentPosition().

let watchId = navigator.geolocation.watchPosition(({coords}) => {
    console.log('Устройство обновило местоположение', coords.latitude,
    coords.longitude)
})
Метод watchPosition() возвращает числовой идентификатор для использования вместе с
методом clearWatch(), чтобы отписаться от получения новых данных о местоположении.
navigator.geolocation.clearWatch(watchId)
**Точная настройка позиционирования**
Методы getCurrentPosition() и watchPosition() принимают третьим параметром
необязательный объект PositionOptions со следующими полями:
1. enableHighAccuracy (Boolean) — точность определения позиции поле.
2. maximumAge (Number) — максимальное время кеширования в миллисекундах. При
повторных запросах, пока время не вышло, будет возвращаться кешированное
значение, a после браузер будет запрашивать актуальные данные.
3. timeout (Number) — максимальное время ожидания ответа при определении позиции.
Число миллисекунд, спустя которое будет вызван обработчик ошибки.
Вызов watchPosition может выглядеть следующим образом:

const handlePositionSuccess = ({coords}) => {
    console.log('Устройство обновило местоположение', coords.latitude,
    coords.longitude)
}
const handlePositionError = (error) => {
    console.log('Извините, местоположение недоступно', error)
}
const positionOptions = {
    enableHighAccuracy: true,
    maximumAge: 30000,
    timeout: 1000 * 30,
}
const watchId = navigator.geolocation.watchPosition(
    handleSuccessLocation,
    handleLocationError,
    positionOptions
)
**Обработка ошибок**
Callback-функция обработки ошибок, если она была передана в getCurrentPosition() или watchPosition(), ожидает экземпляр объекта GeolocationPositionError в качестве первого аргумента. Он будет содержать два свойства:
● code — условное обозначение ошибки, которая произошла;
● message — понятное для человека описание ошибки, названной в поле code.
Функция выглядит примерно так:

    const handlePositionError = (error) => {
        switch (error.code) {
            case 1:
            console.log('Пользователь ограничил доступ к местоположению')
            break
            case 2:
            console.log('Ошибка устройства определения местоположения')
            break
            case 3:
            console.log('Достигнут тайм-аут')
            break
            default:
            console.log('Извините, местоположение недоступно', error)
            break
        }
    }